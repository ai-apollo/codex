function describe(name, fn) { console.log('describe', name); fn(); }
function it(name, fn) {
  try {
    fn();
    console.log('ok', name);
  } catch (e) {
    console.error('fail', name);
    console.error(e);
    process.exitCode = 1;
  }
}
const test = it;
function expect(received) {
  return {
    toBe(expected) {
      if (received !== expected) throw new Error(`Expected ${received} to be ${expected}`);
    },
    toMatch(regex) {
      if (!regex.test(received)) throw new Error(`Expected ${received} to match ${regex}`);
    },
    toContain(sub) {
      if (!received.includes(sub)) throw new Error(`Expected ${received} to contain ${sub}`);
    },
    toBeDefined() {
      if (received === undefined) throw new Error('Expected value to be defined');
    }
  };
}
module.exports = { describe, it, test, expect };
